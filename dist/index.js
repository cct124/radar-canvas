!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.Radar=i():t.Radar=i()}(this,(function(){return(()=>{"use strict";var t={607:function(t,i){var s=this&&this.__spreadArray||function(t,i,s){if(s||2===arguments.length)for(var o,e=0,n=i.length;e<n;e++)!o&&e in i||(o||(o=Array.prototype.slice.call(i,0,e)),o[e]=i[e]);return t.concat(o||Array.prototype.slice.call(i))};Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){var i=this,s=t.ctx,o=t.x,e=void 0===o?0:o,n=t.y,a=void 0===n?0:n,r=t.radius,h=t.shape,l=t.indicator,c=t.splitNumber,d=t.startAngle,p=void 0===d?100:d,f=t.axisLine,x=t.splitLine,y=t.data,u=t.name;this._crossAxis=new Path2D,this._axis=new Path2D,this._polygon=new Path2D,this._splitPolygon=new Path2D,this._splitCircle=new Path2D,this._dataPoints=new Path2D,this._bezierDataPoints=new Path2D,this._mixinWhitelist=[Array],this._pointsDy=[],this.angle=360,this.axisPointsAll=[],this.axisPoints=[],this.axisLine={show:!0,lineStyle:{color:"#000000",lineWidth:1}},this.splitLine={show:!0,lineStyle:{color:"#000000",lineWidth:1}},this.name={show:!0,offsetX:6,offsetY:6,textStyle:{color:"#000000",fontStyle:"normal",fontSize:18,fontWeight:"normal",fontFamily:"sans-serif",textAlign:"center",padding:0}},this.data={show:!0,value:[],offsetX:0,offsetY:0,bezierOffset:0,symbol:{show:!0,pointStyle:{size:4,color:"#a9304b"}},type:"sharp",line:{show:!0,lineStyle:{color:"#000000",lineWidth:0}}},this.dataPointsCoor=[],this.dataPointsMidCoor=[],this.dataAreaVectors=[],this._pointsLeftRightSineCosine=[],this.ctx=s,this.x=e,this.y=a,this.cw=this.int(2*r),this.ch=this.int(2*r),this.cx=this.int(this.cw/2)+this.x,this.cy=this.int(this.ch/2)+this.y,this.shape=h||"polygon",this.indicator=l,this.r=r,this.splitNumber=Array.from(new Array(c).keys()).map((function(t){return t+1})),this.startAngle=p,this.axisLine=this.mixin(this.axisLine,f),this.splitLine=this.mixin(this.splitLine,x),this.name=this.mixin(this.name,u),this.data=this.mixin(this.data,y),this.dataRadius=this.indicator.map((function(t,s){var o=i.data.value[s];return i.int(o/t.max*i.r)}))}return t.prototype.render=function(){this.points(),this.axisLine.show&&(this.axis(),this.darwAxis()),this.splitLine.show&&(this.pointsAll(),"polygon"===this.shape&&(this.splitPolygon(),this.drawSplitPolygon()),"circle"===this.shape&&(this.splitCricle(),this.drawSplitCricle())),this.name.show&&this.drawLabel(),this.data.show&&(this.dataPoints(),"smooth"===this.data.type&&(this.midCoorDataPoints(),this.pointsSineCosine(),this.bezierDataPoints()),this.darwDataPointsFill(),this.data.line.show&&this.darwDataPointsLine(),this.data.symbol.show&&this.darwDataPointsSymbolSize())},t.prototype.pointsAll=function(){var t=this;this.axisPointsAll=this.splitNumber.map((function(i){var s=t.r*i/t.splitNumber.length;return t.indicator.map((function(i,o){var e=t.deg(o);return[t.cosX(e,s),t.sinY(e,s)]}))}))},t.prototype.points=function(){var t=this;this.axisPoints=this.indicator.map((function(i,s){var o=t.deg(s);return[t.cosX(o,t.r),t.sinY(o,t.r)]}))},t.prototype.axis=function(){var t=this;this.axisPoints.forEach((function(i){var s=i[0],o=i[1];t._axis.moveTo(t.cx,t.cy),t._axis.lineTo(s,o)}))},t.prototype.darwAxis=function(t,i){void 0===t&&(t=this.axisLine.lineStyle.lineWidth),void 0===i&&(i=this.axisLine.lineStyle.color);var s=this.ctx.lineWidth,o=this.ctx.strokeStyle;this.ctx.lineWidth=t,this.ctx.strokeStyle=i,this.ctx.stroke(this._axis),this.ctx.lineWidth=s,this.ctx.strokeStyle=o},t.prototype.splitPolygon=function(){var t=this;this.axisPointsAll.forEach((function(i){var s=i[0],o=s[0],e=s[1];t._splitPolygon.moveTo(o,e),i.forEach((function(i,s){var o=i[0],e=i[1];0!==s&&t._splitPolygon.lineTo(o,e)})),t._splitPolygon.closePath()}))},t.prototype.drawSplitPolygon=function(t,i){void 0===t&&(t=this.splitLine.lineStyle.lineWidth),void 0===i&&(i=this.splitLine.lineStyle.color);var s=this.ctx.lineWidth,o=this.ctx.strokeStyle;this.ctx.lineWidth=t,this.ctx.strokeStyle=i,this.ctx.stroke(this._splitPolygon),this.ctx.lineWidth=s,this.ctx.strokeStyle=o},t.prototype.splitCricle=function(){var t=this;this.splitNumber.forEach((function(i){var s=t.r*i/t.splitNumber.length;t._splitCircle.moveTo(t.cosX(0,s),t.sinY(0,s)),t._splitCircle.arc(t.cx,t.cy,s,0,2*Math.PI,!0)}))},t.prototype.drawSplitCricle=function(t,i){void 0===t&&(t=this.splitLine.lineStyle.lineWidth),void 0===i&&(i=this.splitLine.lineStyle.color);var s=this.ctx.lineWidth,o=this.ctx.strokeStyle;this.ctx.lineWidth=t,this.ctx.strokeStyle=i,this.ctx.stroke(this._splitCircle),this.ctx.lineWidth=s,this.ctx.strokeStyle=o},t.prototype.crossAxis=function(){this._crossAxis.moveTo(this.x,this.cy),this._crossAxis.lineTo(this.cw+this.x,this.cy),this._crossAxis.moveTo(this.cx,this.y),this._crossAxis.lineTo(this.cx,this.ch+this.y)},t.prototype.drawCrossAxis=function(t,i){void 0===t&&(t=.2),void 0===i&&(i="#000000");var s=this.ctx.lineWidth,o=this.ctx.strokeStyle;this.ctx.lineWidth=t,this.ctx.strokeStyle=i,this.ctx.stroke(this._crossAxis),this.ctx.lineWidth=s,this.ctx.strokeStyle=o},t.prototype.drawArea=function(t,i){void 0===t&&(t=.2),void 0===i&&(i="#000000");var s=this.ctx.lineWidth,o=this.ctx.strokeStyle;this.ctx.lineWidth=t,this.ctx.strokeStyle=i,this.ctx.strokeRect(this.x,this.y,this.cw,this.ch),this.ctx.lineWidth=s,this.ctx.strokeStyle=o},t.prototype.fillText=function(t,i,s,o,e,n,a,r,h,l){void 0===o&&(o=this.name.textStyle.fontSize),void 0===e&&(e=this.name.textStyle.textAlign),void 0===n&&(n=this.name.textStyle.color),void 0===a&&(a=this.name.textStyle.fontWeight),void 0===r&&(r=this.name.textStyle.fontFamily),void 0===h&&(h=this.name.textStyle.backgroundColor),void 0===l&&(l=this.name.textStyle.padding);var c=this.ctx.font,d=this.ctx.fillStyle;this.ctx.font=a+" "+o+"px "+r;var p=this.ctx.measureText(t),f=p.width,x=p.actualBoundingBoxAscent,y=p.actualBoundingBoxDescent;if("center"===e&&(i-=f/2,s+=x/2),h){var u=2*l;this.ctx.fillStyle=h,this.ctx.fillRect(i-u/2,s-x-u/2,f+u,x+y+u)}this.ctx.fillStyle=n,this.ctx.fillText(t,i,s),this.ctx.font=c,this.ctx.fillStyle=d},t.prototype.drawLabel=function(){var t=this;this.axisPoints.forEach((function(i,s){var o=i[0],e=i[1],n=t.indicator[s],a=t.deg(s),r=t.ctx.font;t.ctx.font=t.name.textStyle.fontWeight+" "+t.name.textStyle.fontSize+"px "+t.name.textStyle.fontFamily;var h=t.ctx.measureText(n.text),l=h.width,c=h.actualBoundingBoxAscent,d=h.actualBoundingBoxDescent;t.ctx.font=r;var p=a%360/90,f=p>0?Math.ceil(p):4+Math.ceil(p),x=e-(t.name.offsetY+c/2),y=o-(t.name.offsetX+l/2),u=e+(t.name.offsetY+c/2),v=o+(t.name.offsetX+l/2);if(a%90==0)switch(f){case 1:e=u;break;case 2:o=y;break;case 3:e=x-d;break;case 4:o=v}else switch(f){case 1:e=u,o=v;break;case 2:e=u,o=y;break;case 3:e=x,o=y;break;case 4:e=x,o=v}t.fillText(n.text,o,e)}))},t.prototype.dataPoints=function(){var t=this;this.dataPointsCoor=this.dataRadius.map((function(i,s){var o=t.deg(s);return[t.cosX(o,i)+t.data.offsetX,t.sinY(o,i)+t.data.offsetY]})),this.dataPointsCoor.forEach((function(i,s){var o=i[0],e=i[1];0===s?t._dataPoints.moveTo(o,e):t._dataPoints.lineTo(o,e)})),this._dataPoints.closePath()},t.prototype.midCoorDataPoints=function(){var t=this;this.dataPointsMidCoor=this.dataPointsCoor.map((function(i,o){var e=o===t.dataPointsCoor.length-1?0:o+1,n=i[0],a=i[1],r=t.dataPointsCoor[e],h=r[0],l=r[1];return t.dataAreaVectors.push(t.vector(n,a,h,l)),s([],t.midCoor(n,a,h,l),!0)}))},t.prototype.pointsSineCosine=function(){var t=this;this.dataPointsCoor.forEach((function(i,s){var o=i[0],e=i[1],n=[],a=s===t.dataPointsCoor.length-1?0:s+1,r=t.dataPointsCoor[a],h=r[0],l=r[1];n.push(t.sineCosine(o,e,h,l));var c=0===s?t.dataPointsCoor.length-1:s-1,d=t.dataPointsCoor[c],p=d[0],f=d[1];n.push(t.sineCosine(p,f,o,e).map((function(t){return-1*t}))),t._pointsLeftRightSineCosine.push(n)}))},t.prototype.sineCosine=function(t,i,s,o){var e=t-s,n=i-o,a=this.int(Math.sqrt(Math.pow(e,2)+Math.pow(n,2)));return[e/a,n/a]},t.prototype.offset=function(t,i,s,o){return[t+this.data.bezierOffset*s,i+this.data.bezierOffset*o]},t.prototype.fillPoint=function(t,i,s,o){var e=this.ctx.fillStyle;this.ctx.fillStyle=o,this.ctx.fillRect(t-s/2,i-s/2,s,s),this.ctx.fillStyle=e},t.prototype.bezierDataPoints=function(){var t=this;this.dataPointsMidCoor.forEach((function(i,s){var o=i[0],e=i[1],n=s===t.dataPointsCoor.length-1?0:s+1,a=t.dataPointsMidCoor[n],r=a[0],h=a[1],l=t.dataPointsCoor[n],c=l[0],d=l[1],p=t._pointsLeftRightSineCosine[n],f=p[0],x=f[0],y=f[1],u=p[1],v=u[0],m=u[1],S=t.offset(c,d,x,y),P=S[0],g=S[1],w=t.offset(c,d,v,m),b=w[0],C=w[1];0===s?(t._bezierDataPoints.moveTo(o,e),t._bezierDataPoints.bezierCurveTo(b,C,P,g,r,h)):t._bezierDataPoints.bezierCurveTo(b,C,P,g,r,h)}))},t.prototype.darwDataPointsFill=function(t){if(void 0===t&&(t=this.data.fill),t){if(Array.isArray(t)){var i=this.polygonArea(this.dataPointsCoor),s=i[0],o=(s[0],s[1]),e=i[1],n=(e[0],e[1]),a=this.data.gradientXY?this.data.gradientXY[0]:this.cx,r=this.data.gradientXY?this.data.gradientXY[1]:o,h=this.data.gradientXY?this.data.gradientXY[2]:this.cx,l=this.data.gradientXY?this.data.gradientXY[3]:n,c=this.ctx.createLinearGradient(a,r,h,l);t.forEach((function(t){var i=t[0],s=t[1];c.addColorStop(i,s)})),this.ctx.fillStyle=c}else this.ctx.fillStyle=t;var d=this.ctx.fillStyle;"sharp"===this.data.type&&this.ctx.fill(this._dataPoints),"smooth"===this.data.type&&this.ctx.fill(this._bezierDataPoints),this.ctx.fillStyle=d}},t.prototype.darwDataPointsLine=function(t,i){void 0===t&&(t=this.data.line.lineStyle.lineWidth),void 0===i&&(i=this.data.line.lineStyle.color);var s=this.ctx.lineWidth,o=this.ctx.strokeStyle;this.ctx.lineWidth=t,this.ctx.strokeStyle=i,"sharp"===this.data.type&&this.ctx.stroke(this._dataPoints),"smooth"===this.data.type&&this.ctx.stroke(this._bezierDataPoints),this.ctx.lineWidth=s,this.ctx.strokeStyle=o},t.prototype.darwDataPointsSymbolSize=function(t,i){var s=this;void 0===t&&(t=this.data.symbol.pointStyle.size),void 0===i&&(i=this.data.symbol.pointStyle.color),this.dataPointsCoor.forEach((function(o,e){var n=o[0],a=o[1],r=s.ctx.fillStyle;s.ctx.fillStyle=i,s.ctx.fillRect(n-t/2,a-t/2,t,t),s.ctx.fillStyle=r}))},t.prototype.vector=function(t,i,s,o){var e=s-t,n=o-i;return e>0&&n>0?1:e>0&&n<0?2:e<0&&n<0?3:4},t.prototype.quadrant=function(t){var i=t%360/90,s=i>0?Math.ceil(i):4+Math.ceil(i);if(t%90==0)switch(s){case 1:return"a";case 2:return"b";case 3:return"c";case 4:return"d"}return s},t.prototype.int=function(t){return Math.round(t)},t.prototype.sinY=function(t,i){return this.int(this.sin(t)*i+this.cy)},t.prototype.cosX=function(t,i){return this.int(this.cos(t)*i+this.cx)},t.prototype.sin=function(t){return Math.sin(2*t*Math.PI/360)},t.prototype.cos=function(t){return Math.cos(2*t*Math.PI/360)},t.prototype.pSinCos=function(t,i,s,o){var e=t-s,n=i-o,a=this.hypotenuse(t,i,s,o);return this._pointsDy.push([e,n]),e>0&&n>0||e<0&&n<0?[n/a,e/a]:[e/a,n/a]},t.prototype.hypotenuse=function(t,i,s,o){var e=Math.abs(t-s),n=Math.abs(i-o);return this.int(Math.sqrt(Math.pow(e,2)+Math.pow(n,2)))},t.prototype.deg=function(t){return this.angle*t/this.indicator.length-this.startAngle},t.prototype.polygonArea=function(t){var i=t.map((function(t){return t[0]})),s=t.map((function(t){return t[1]}));return[[this.numMini(i),this.numMini(s)],[this.numMax(i),this.numMax(s)]]},t.prototype.numMax=function(t){var i=t.sort((function(t,i){return t-i}));return i[i.length-1]},t.prototype.numMini=function(t){return t.sort((function(t,i){return t-i}))[0]},t.prototype.midCoor=function(t,i,s,o){var e=Math.abs((t-s)/2),n=Math.abs((i-o)/2);return[t>s?s+e:t+e,i>o?o+n:i+n]},t.prototype.mixin=function(t,i){if(i){var s=t,o=function(t){i.hasOwnProperty(t)&&("object"!=typeof i[t]||e._mixinWhitelist.some((function(s){return i[t]instanceof s}))?s[t]=i[t]:s[t]=e.mixin(s[t],i[t]))},e=this;for(var n in i)o(n);return s}return t},t}();i.default=o}},i={};return t[607](0,i),i.default})()}));